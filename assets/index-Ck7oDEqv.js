var ze=(m,n)=>()=>(n||m((n={exports:{}}).exports,n),n.exports);var pe=(m,n,i)=>{if(!n.has(m))throw TypeError("Cannot "+i)};var o=(m,n,i)=>(pe(m,n,"read from private field"),i?i.call(m):n.get(m)),P=(m,n,i)=>{if(n.has(m))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(m):n.set(m,i)},x=(m,n,i,d)=>(pe(m,n,"write to private field"),d?d.call(m,i):n.set(m,i),i);var ne=(m,n,i,d)=>({set _(l){x(m,n,l,i)},get _(){return o(m,n,d)}});var Qe=ze((et,ie)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))d(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function i(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(l){if(l.ep)return;l.ep=!0;const r=i(l);fetch(l.href,r)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var ve={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(m){(function(n,i){m.exports?m.exports=i():n.Toastify=i()})(Ve,function(n){var i=function(a){return new i.lib.init(a)},d="1.12.0";i.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},i.lib=i.prototype={toastify:d,constructor:i,init:function(a){return a||(a={}),this.options={},this.toastElement=null,this.options.text=a.text||i.defaults.text,this.options.node=a.node||i.defaults.node,this.options.duration=a.duration===0?0:a.duration||i.defaults.duration,this.options.selector=a.selector||i.defaults.selector,this.options.callback=a.callback||i.defaults.callback,this.options.destination=a.destination||i.defaults.destination,this.options.newWindow=a.newWindow||i.defaults.newWindow,this.options.close=a.close||i.defaults.close,this.options.gravity=a.gravity==="bottom"?"toastify-bottom":i.defaults.gravity,this.options.positionLeft=a.positionLeft||i.defaults.positionLeft,this.options.position=a.position||i.defaults.position,this.options.backgroundColor=a.backgroundColor||i.defaults.backgroundColor,this.options.avatar=a.avatar||i.defaults.avatar,this.options.className=a.className||i.defaults.className,this.options.stopOnFocus=a.stopOnFocus===void 0?i.defaults.stopOnFocus:a.stopOnFocus,this.options.onClick=a.onClick||i.defaults.onClick,this.options.offset=a.offset||i.defaults.offset,this.options.escapeMarkup=a.escapeMarkup!==void 0?a.escapeMarkup:i.defaults.escapeMarkup,this.options.ariaLive=a.ariaLive||i.defaults.ariaLive,this.options.style=a.style||i.defaults.style,a.backgroundColor&&(this.options.style.background=a.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var a=document.createElement("div");a.className="toastify on "+this.options.className,this.options.position?a.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(a.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):a.className+=" toastify-right",a.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var E in this.options.style)a.style[E]=this.options.style[E];if(this.options.ariaLive&&a.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)a.appendChild(this.options.node);else if(this.options.escapeMarkup?a.innerText=this.options.text:a.innerHTML=this.options.text,this.options.avatar!==""){var j=document.createElement("img");j.src=this.options.avatar,j.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?a.appendChild(j):a.insertAdjacentElement("afterbegin",j)}if(this.options.close===!0){var k=document.createElement("button");k.type="button",k.setAttribute("aria-label","Close"),k.className="toast-close",k.innerHTML="&#10006;",k.addEventListener("click",(function(y){y.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var L=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&L>360?a.insertAdjacentElement("afterbegin",k):a.appendChild(k)}if(this.options.stopOnFocus&&this.options.duration>0){var F=this;a.addEventListener("mouseover",function(y){window.clearTimeout(a.timeOutValue)}),a.addEventListener("mouseleave",function(){a.timeOutValue=window.setTimeout(function(){F.removeElement(a)},F.options.duration)})}if(typeof this.options.destination<"u"&&a.addEventListener("click",(function(y){y.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&a.addEventListener("click",(function(y){y.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var G=l("x",this.options),H=l("y",this.options),Z=this.options.position=="left"?G:"-"+G,ae=this.options.gravity=="toastify-top"?H:"-"+H;a.style.transform="translate("+Z+","+ae+")"}return a},showToast:function(){this.toastElement=this.buildToast();var a;if(typeof this.options.selector=="string"?a=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?a=this.options.selector:a=document.body,!a)throw"Root element is not defined";var E=i.defaults.oldestFirst?a.firstChild:a.lastChild;return a.insertBefore(this.toastElement,E),i.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(a){a.className=a.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),a.parentNode&&a.parentNode.removeChild(a),this.options.callback.call(a),i.reposition()}).bind(this),400)}},i.reposition=function(){for(var a={top:15,bottom:15},E={top:15,bottom:15},j={top:15,bottom:15},k=document.getElementsByClassName("toastify"),L,F=0;F<k.length;F++){r(k[F],"toastify-top")===!0?L="toastify-top":L="toastify-bottom";var G=k[F].offsetHeight;L=L.substr(9,L.length-1);var H=15,Z=window.innerWidth>0?window.innerWidth:screen.width;Z<=360?(k[F].style[L]=j[L]+"px",j[L]+=G+H):r(k[F],"toastify-left")===!0?(k[F].style[L]=a[L]+"px",a[L]+=G+H):(k[F].style[L]=E[L]+"px",E[L]+=G+H)}return this};function l(a,E){return E.offset[a]?isNaN(E.offset[a])?E.offset[a]:E.offset[a]+"px":"0px"}function r(a,E){return!a||typeof E!="string"?!1:!!(a.className&&a.className.trim().split(/\s+/gi).indexOf(E)>-1)}return i.lib.init.prototype=i.lib,i})})(ve);var _e=ve.exports;const U=Ue(_e);var K,_;class Je{constructor(n="marcador"){P(this,K,void 0);P(this,_,[{name:"X",puntos:0},{name:"O",puntos:0}]);x(this,K,n),this.imprimir()}addPuntos(n){let i=o(this,_).find(d=>d.name===n);i.puntos++,this.imprimir()}imprimir(){let n=document.getElementById(o(this,K)),i=document.createElement("ul");o(this,_).forEach(d=>{let l=document.createElement("li");l.textContent=`Jugador ${d.name} tiene ${d.puntos} puntos`,i.append(l)}),n.innerHTML="",n.append(i)}verpuntos(){return o(this,_)}}K=new WeakMap,_=new WeakMap;var ie={};(function m(n,i,d,l){var r=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",E=function(){if(!n.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),e=t.getContext("2d");e.fillRect(0,0,1,1);var s=t.transferToImageBitmap();try{e.createPattern(s,"no-repeat")}catch{return!1}return!0}();function j(){}function k(t){var e=i.exports.Promise,s=e!==void 0?e:n.Promise;return typeof s=="function"?new s(t):(t(j,j),null)}var L=function(t,e){return{transform:function(s){if(t)return s;if(e.has(s))return e.get(s);var c=new OffscreenCanvas(s.width,s.height),h=c.getContext("2d");return h.drawImage(s,0,0),e.set(s,c),c},clear:function(){e.clear()}}}(E,new Map),F=function(){var t=Math.floor(16.666666666666668),e,s,c={},h=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(f){var p=Math.random();return c[p]=requestAnimationFrame(function u(g){h===g||h+t-1<g?(h=g,delete c[p],f()):c[p]=requestAnimationFrame(u)}),p},s=function(f){c[f]&&cancelAnimationFrame(c[f])}):(e=function(f){return setTimeout(f,t)},s=function(f){return clearTimeout(f)}),{frame:e,cancel:s}}(),G=function(){var t,e,s={};function c(h){function f(p,u){h.postMessage({options:p||{},callback:u})}h.init=function(u){var g=u.transferControlToOffscreen();h.postMessage({canvas:g},[g])},h.fire=function(u,g,b){if(e)return f(u,null),e;var C=Math.random().toString(36).slice(2);return e=k(function(w){function T(O){O.data.callback===C&&(delete s[C],h.removeEventListener("message",T),e=null,L.clear(),b(),w())}h.addEventListener("message",T),f(u,C),s[C]=T.bind(null,{data:{callback:C}})}),e},h.reset=function(){h.postMessage({reset:!0});for(var u in s)s[u](),delete s[u]}}return function(){if(t)return t;if(!d&&r){var h=["var CONFETTI, SIZE = {}, module = {};","("+m.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([h])))}catch(f){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",f),null}c(t)}return t}}(),H={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Z(t,e){return e?e(t):t}function ae(t){return t!=null}function y(t,e,s){return Z(t&&ae(t[e])?t[e]:H[e],s)}function we(t){return t<0?0:Math.floor(t)}function Me(t,e){return Math.floor(Math.random()*(e-t))+t}function oe(t){return parseInt(t,16)}function Ce(t){return t.map(Te)}function Te(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:oe(e.substring(0,2)),g:oe(e.substring(2,4)),b:oe(e.substring(4,6))}}function Ee(t){var e=y(t,"origin",Object);return e.x=y(e,"x",Number),e.y=y(e,"y",Number),e}function Le(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function ke(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function Oe(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function xe(t,e,s,c,h,f,p,u,g){t.save(),t.translate(e,s),t.rotate(f),t.scale(c,h),t.arc(0,0,1,p,u,g),t.restore()}function Fe(t){var e=t.angle*(Math.PI/180),s=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*s-Math.random()*s),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function Ie(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var s=e.tick++/e.totalTicks,c=e.x+e.random*e.tiltCos,h=e.y+e.random*e.tiltSin,f=e.wobbleX+e.random*e.tiltCos,p=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-s)+")",t.beginPath(),a&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))t.fill(Pe(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(f-c)*.1,Math.abs(p-h)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var u=Math.PI/10*e.wobble,g=Math.abs(f-c)*.1,b=Math.abs(p-h)*.1,C=e.shape.bitmap.width*e.scalar,w=e.shape.bitmap.height*e.scalar,T=new DOMMatrix([Math.cos(u)*g,Math.sin(u)*g,-Math.sin(u)*b,Math.cos(u)*b,e.x,e.y]);T.multiplySelf(new DOMMatrix(e.shape.matrix));var O=t.createPattern(L.transform(e.shape.bitmap),"no-repeat");O.setTransform(T),t.globalAlpha=1-s,t.fillStyle=O,t.fillRect(e.x-C/2,e.y-w/2,C,w),t.globalAlpha=1}else if(e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(f-c)*e.ovalScalar,Math.abs(p-h)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):xe(t,e.x,e.y,Math.abs(f-c)*e.ovalScalar,Math.abs(p-h)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var v=Math.PI/2*3,N=4*e.scalar,B=8*e.scalar,R=e.x,D=e.y,V=5,W=Math.PI/V;V--;)R=e.x+Math.cos(v)*B,D=e.y+Math.sin(v)*B,t.lineTo(R,D),v+=W,R=e.x+Math.cos(v)*N,D=e.y+Math.sin(v)*N,t.lineTo(R,D),v+=W;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(h)),t.lineTo(Math.floor(f),Math.floor(p)),t.lineTo(Math.floor(c),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function Ne(t,e,s,c,h){var f=e.slice(),p=t.getContext("2d"),u,g,b=k(function(C){function w(){u=g=null,p.clearRect(0,0,c.width,c.height),L.clear(),h(),C()}function T(){d&&!(c.width===l.width&&c.height===l.height)&&(c.width=t.width=l.width,c.height=t.height=l.height),!c.width&&!c.height&&(s(t),c.width=t.width,c.height=t.height),p.clearRect(0,0,c.width,c.height),f=f.filter(function(O){return Ie(p,O)}),f.length?u=F.frame(T):w()}u=F.frame(T),g=w});return{addFettis:function(C){return f=f.concat(C),b},canvas:t,promise:b,reset:function(){u&&F.cancel(u),g&&g()}}}function ue(t,e){var s=!t,c=!!y(e||{},"resize"),h=!1,f=y(e,"disableForReducedMotion",Boolean),p=r&&!!y(e||{},"useWorker"),u=p?G():null,g=s?Le:ke,b=t&&u?!!t.__confetti_initialized:!1,C=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,w;function T(v,N,B){for(var R=y(v,"particleCount",we),D=y(v,"angle",Number),V=y(v,"spread",Number),W=y(v,"startVelocity",Number),Re=y(v,"decay",Number),Ae=y(v,"gravity",Number),je=y(v,"drift",Number),de=y(v,"colors",Ce),We=y(v,"ticks",Number),he=y(v,"shapes"),De=y(v,"scalar"),qe=!!y(v,"flat"),fe=Ee(v),me=R,se=[],Ge=t.width*fe.x,He=t.height*fe.y;me--;)se.push(Fe({x:Ge,y:He,angle:D,spread:V,startVelocity:W,color:de[me%de.length],shape:he[Me(0,he.length)],ticks:We,decay:Re,gravity:Ae,drift:je,scalar:De,flat:qe}));return w?w.addFettis(se):(w=Ne(t,se,g,N,B),w.promise)}function O(v){var N=f||y(v,"disableForReducedMotion",Boolean),B=y(v,"zIndex",Number);if(N&&C)return k(function(W){W()});s&&w?t=w.canvas:s&&!t&&(t=Oe(B),document.body.appendChild(t)),c&&!b&&g(t);var R={width:t.width,height:t.height};u&&!b&&u.init(t),b=!0,u&&(t.__confetti_initialized=!0);function D(){if(u){var W={getBoundingClientRect:function(){if(!s)return t.getBoundingClientRect()}};g(W),u.postMessage({resize:{width:W.width,height:W.height}});return}R.width=R.height=null}function V(){w=null,c&&(h=!1,n.removeEventListener("resize",D)),s&&t&&(document.body.removeChild(t),t=null,b=!1)}return c&&!h&&(h=!0,n.addEventListener("resize",D,!1)),u?u.fire(v,R,V):T(v,R,V)}return O.reset=function(){u&&u.reset(),w&&w.reset()},O}var re;function ce(){return re||(re=ue(null,{useWorker:!0,resize:!0})),re}function Pe(t,e,s,c,h,f,p){var u=new Path2D(t),g=new Path2D;g.addPath(u,new DOMMatrix(e));var b=new Path2D;return b.addPath(g,new DOMMatrix([Math.cos(p)*h,Math.sin(p)*h,-Math.sin(p)*f,Math.cos(p)*f,s,c])),b}function Se(t){if(!a)throw new Error("path confetti are not supported in this browser");var e,s;typeof t=="string"?e=t:(e=t.path,s=t.matrix);var c=new Path2D(e),h=document.createElement("canvas"),f=h.getContext("2d");if(!s){for(var p=1e3,u=p,g=p,b=0,C=0,w,T,O=0;O<p;O+=2)for(var v=0;v<p;v+=2)f.isPointInPath(c,O,v,"nonzero")&&(u=Math.min(u,O),g=Math.min(g,v),b=Math.max(b,O),C=Math.max(C,v));w=b-u,T=C-g;var N=10,B=Math.min(N/w,N/T);s=[B,0,0,B,-Math.round(w/2+u)*B,-Math.round(T/2+g)*B]}return{type:"path",path:e,matrix:s}}function Be(t){var e,s=1,c="#000000",h='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof t=="string"?e=t:(e=t.text,s="scalar"in t?t.scalar:s,h="fontFamily"in t?t.fontFamily:h,c="color"in t?t.color:c);var f=10*s,p=""+f+"px "+h,u=new OffscreenCanvas(f,f),g=u.getContext("2d");g.font=p;var b=g.measureText(e),C=Math.ceil(b.actualBoundingBoxRight+b.actualBoundingBoxLeft),w=Math.ceil(b.actualBoundingBoxAscent+b.actualBoundingBoxDescent),T=2,O=b.actualBoundingBoxLeft+T,v=b.actualBoundingBoxAscent+T;C+=T+T,w+=T+T,u=new OffscreenCanvas(C,w),g=u.getContext("2d"),g.font=p,g.fillStyle=c,g.fillText(e,O,v);var N=1/s;return{type:"bitmap",bitmap:u.transferToImageBitmap(),matrix:[N,0,0,N,-C*N/2,-w*N/2]}}i.exports=function(){return ce().apply(this,arguments)},i.exports.reset=function(){ce().reset()},i.exports.create=ue,i.exports.shapeFromPath=Se,i.exports.shapeFromText=Be})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ie,!1);const ge=ie.exports;ie.exports.create;class le{constructor(n){this.duration=n,this.endTime=Date.now()+this.duration}startConfetti(){this.throwConfetti()}throwConfetti(){Date.now()<this.endTime&&(this.launchConfetti(),requestAnimationFrame(()=>this.throwConfetti()))}launchConfetti(){ge({particleCount:7,angle:60,spread:55,origin:{x:0}}),ge({particleCount:7,angle:120,spread:55,origin:{x:1}})}}var I,M,S,Q,q,Y,z,ee,te,J,$;class $e{constructor(n=3,i=!1,d=1){P(this,I,void 0);P(this,M,void 0);P(this,S,void 0);P(this,Q,void 0);P(this,q,void 0);P(this,Y,void 0);P(this,z,!1);P(this,ee,void 0);P(this,te,0);P(this,J,0);P(this,$,0);x(this,I,new Array),x(this,M,n),x(this,Y,i),x(this,ee,d);for(let l=0;l<o(this,M);l++){o(this,I)[l]=new Array;for(let r=0;r<o(this,M);r++)o(this,I)[l][r]=null}x(this,S,"X"),x(this,q,new Je)}imprimir(n="tablero"){let i=document.getElementById(n);x(this,Q,n),i.innerHTML="";for(let d=0;d<o(this,M);d++)for(let l=0;l<o(this,M);l++){let r=document.createElement("div");r.dataset.fila=d,r.dataset.columna=l,r.dataset.libre="",o(this,I)[d][l]&&(r.textContent=o(this,I)[d][l],r.dataset.libre=o(this,I)[d][l]),i.appendChild(r),this.addEventClick(r)}i.style.gridTemplateColumns=`repeat(${o(this,M)}, 1fr)`}isFree(n,i){return o(this,I)[n][i]===null}setCasilla(n,i,d){return this.isFree(n,i)?(o(this,I)[n][i]=d,!0):!1}getCasilla(n,i){return o(this,I)[n][i]}toogleTurno(){if(o(this,z))return!1;if(o(this,S)==="X"){if(x(this,S,"O"),o(this,Y)){let n=this.getCasillaFreeRandom();if(this.setCasilla(n.i,n.j,"O"),this.imprimir(),this.comprobarResultados(),this.registrarJugada("O",n.i,n.j),o(this,z))return!1;this.toogleTurno()}}else x(this,S,"X")}comprobarResultados(){let n,i,d=!1;for(n=0;n<o(this,M)&&!d;n++){let r=0;for(i=0;i<o(this,M);i++)i!==0&&this.getCasilla(n,i)===this.getCasilla(n,i-1)&&this.getCasilla(n,i)!==null&&r++;r===o(this,M)-1&&(console.log("Linea"),d=!0)}for(i=0;i<o(this,M)&&!d;i++){let r=0;for(n=0;n<o(this,M);n++)n!==0&&this.getCasilla(n,i)===this.getCasilla(n-1,i)&&this.getCasilla(n,i)!==null&&r++;r===o(this,M)-1&&(console.log("Columna"),d=!0)}let l=0;for(let r=0;r<o(this,M);r++)r!==0&&this.getCasilla(r,r)===this.getCasilla(r-1,r-1)&&this.getCasilla(r,r)!==null&&l++;l===o(this,M)-1&&(console.log("Diagonal de izq a derecha"),d=!0),l=0;for(let r=o(this,M)-1;r>=0;r--)if(r!==o(this,M)-1){let a=o(this,M)-1-r;this.getCasilla(r,a)===this.getCasilla(r+1,a-1)&&this.getCasilla(r,a)!==null&&l++}l===o(this,M)-1&&(console.log("Diagonal de derecha a izquierda"),d=!0),d?(x(this,z,!0),U({text:`Ha ganado el jugador ${o(this,S)}`,newWindow:!0,close:!0,gravity:"top",position:"center",stopOnFocus:!0,style:{background:"blue"},onClick:function(){}}).showToast(),document.querySelectorAll('div[data-libre=""]').forEach(a=>{a.dataset.libre="-"}),o(this,q).addPuntos(o(this,S)),document.querySelector(".clearGame").classList.toggle("show"),ne(this,te)._++,o(this,te)===o(this,ee)&&(o(this,q).verpuntos()[0].puntos>o(this,q).verpuntos()[1].puntos?ne(this,J)._++:o(this,q).verpuntos()[0].puntos<o(this,q).verpuntos()[1].puntos&&ne(this,$)._++,this.anunciarGanadorFinal(),document.querySelector(".clearGameButton").classList.add("hide"),document.querySelector(".clearGameButton2").classList.add("hide"))):this.isFull()&&(U({text:"Han sido tablas",newWindow:!0,close:!0,gravity:"top",position:"center",stopOnFocus:!0,style:{background:"blue"},onClick:function(){}}).showToast(),document.querySelector(".clearGame").classList.toggle("show"),x(this,z,!0))}isFull(){return!o(this,I).some(n=>n.some(i=>i===null))}addEventClick(n){n.addEventListener("click",i=>{let d=i.currentTarget;d.dataset.libre===""&&(d.textContent=o(this,S),this.setCasilla(d.dataset.fila,d.dataset.columna,o(this,S)),d.dataset.libre=o(this,S),this.comprobarResultados(),this.registrarJugada(o(this,S),n.dataset.fila,n.dataset.columna),this.toogleTurno())}),n.addEventListener("mouseover",i=>{i.currentTarget.dataset.libre===""&&(i.currentTarget.textContent=o(this,S))}),n.addEventListener("mouseleave",i=>{i.currentTarget.dataset.libre===""&&(i.currentTarget.textContent="")})}get dimension(){return o(this,M)}get elementID(){return o(this,Q)}limpiar(){x(this,I,o(this,I).map(n=>n.map(i=>null))),x(this,z,!1),this.imprimir(),document.querySelector(".clearGame").classList.toggle("show")}getCasillaFreeRandom(){let n,i;do n=Math.floor(Math.random()*o(this,M)),i=Math.floor(Math.random()*o(this,M));while(!this.isFree(n,i));return{i:n,j:i}}anunciarGanadorFinal(){o(this,J)>o(this,$)?(U({text:"Ha ganado el jugador X el torneo",newWindow:!0,close:!0,gravity:"bottom",position:"center",stopOnFocus:!0,style:{background:"green"},onClick:function(){}}).showToast(),new le(20*1e3).startConfetti()):o(this,J)<o(this,$)?(U({text:"Ha ganado el jugador O el torneo",newWindow:!0,close:!0,gravity:"bottom",position:"center",stopOnFocus:!0,style:{background:"green"},onClick:function(){}}).showToast(),new le(30*1e3).startConfetti()):(U({text:"Han sido tablas el torneo",newWindow:!0,close:!0,gravity:"bottom",position:"center",stopOnFocus:!0,style:{background:"green"},onClick:function(){}}).showToast(),new le(30*1e3).startConfetti())}registrarJugada(n,i,d){let l=document.getElementById("registroJugadas");console.log(l);let r=new Date().toLocaleTimeString(),a=`El jugador ${n} ha puesto una ficha en la casilla ${i},${d} a las ${r}.`,E=document.createElement("p");E.textContent=a,l.append(E)}}I=new WeakMap,M=new WeakMap,S=new WeakMap,Q=new WeakMap,q=new WeakMap,Y=new WeakMap,z=new WeakMap,ee=new WeakMap,te=new WeakMap,J=new WeakMap,$=new WeakMap;const Ze=document.getElementById("createTable"),A=document.getElementById("dimension"),Xe=document.getElementById("resetGame"),Ke=document.querySelectorAll(".clearGameButton"),ye=document.querySelector(".preGame"),be=document.querySelector(".inGame");let X;Ze.addEventListener("click",m=>{let n=parseInt(document.getElementById("num-rondas").value);if(!A.value||n<1)return U({text:"Debe indicar una dimensiÃ³n vÃ¡lida",duration:3e3,newWindow:!1,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"red"},onClick:function(){}}).showToast(),A.classList.add("error"),A.focus(),!1;if(isNaN(A.value))return U({text:"Debe introducir un nÃºmero vÃ¡lido",duration:3e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"red"},onClick:function(){}}).showToast(),A.classList.add("error"),A.focus(),!1;let i=document.getElementById("machine");X=new $e(parseInt(A.value),i.checked,n),X.imprimir(),ye.classList.toggle("hide"),be.classList.toggle("hide")});A.addEventListener("keydown",()=>{A.classList.remove("error")});for(let m of Ke)m.addEventListener("click",()=>{X.limpiar()});Xe.addEventListener("click",m=>{document.getElementById(X.elementID).innerHTML="",document.getElementById("marcador").innerHTML="",X=null,ye.classList.toggle("hide"),be.classList.toggle("hide"),document.querySelector(".clearGameButton").classList.remove("hide"),document.querySelector(".clearGameButton2").classList.remove("hide");let n=document.getElementById("registroJugadas");n.innerHTML="",A.value="",A.focus()})});export default Qe();
